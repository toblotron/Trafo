{"name":"tacos","settings":{"includedLibraries":["lists"],"exports":[],"dynamic":[],"executionLimit":500000,"onlinePackages":[]},"formatVersion":0.2,"pageIndexTree":[{"type":"rules","index":0},{"type":"rules","index":1},{"type":"rules","index":2},{"type":"rules","index":3},{"type":"folder","children":[{"type":"table","index":0},{"type":"table","index":1},{"type":"table","index":3},{"type":"table","index":2}],"name":"Tables"}],"dataTables":[{"id":0,"name":"shells","columns":[{"id":"col_a","name":"Type","field":"col_a","content":"atom","width":80}],"datarows":[{"col_a":"hard"},{"col_a":"soft"}]},{"id":1,"name":"meat","columns":[{"id":"col_a","name":"Type","field":"col_a","content":"atom","width":80}],"datarows":[{"col_a":"beef"},{"col_a":"chicken"}]},{"id":2,"name":"toppings","columns":[{"id":"col_a","name":"Type","field":"col_a","content":"atom","width":80}],"datarows":[{"col_a":"lettuce"},{"col_a":"corn"},{"col_a":"rice_beans"}]},{"id":3,"name":"cream","columns":[{"id":"col_a","name":"Type","field":"col_a","content":"atom","width":117}],"datarows":[{"col_a":"sour_cream"},{"col_a":"spicy_sour_cream"}]}],"rulePages":[{"id":0,"name":"Main","shapes":[{"type":"TableShape","id":50,"x":-214.01340036844778,"y":752.643206097108,"data":{"tableId":"0","name":"shells","values":["Shell"]}},{"type":"RuleShape","id":49,"x":-136.30802710672026,"y":654.0900497651603,"data":{"libraryName":"","ruleName":"create_taco_base","arguments":["Taco"]}},{"type":"FormulaShape","id":51,"x":-67.13129237371848,"y":752.6432060971081,"data":{"rows":[{"left":"Taco","op":"=","right":"t(Shell,_,salsa,_,_)"}]}},{"type":"RuleShape","id":47,"x":347.92911602429047,"y":262.72030394694633,"data":{"libraryName":"lists","ruleName":"length","arguments":["Tacos","6"]}},{"type":"RuleShape","id":48,"x":347.9291160242905,"y":362.2210867820855,"data":{"libraryName":"","ruleName":"maplist","arguments":["create_taco_base","Tacos"]}},{"type":"RuleShape","id":21,"x":348.4189879744655,"y":458.7151803830163,"data":{"libraryName":"","ruleName":"shell_rule","arguments":["Tacos"]}},{"type":"RuleShape","id":15,"x":470,"y":261.738132515959,"data":{"libraryName":"","ruleName":"maplist","arguments":["add_meat","Tacos"]}},{"type":"RuleShape","id":16,"x":470,"y":351.5286385287262,"data":{"libraryName":"","ruleName":"meat_rules","arguments":["Tacos"]}},{"type":"RuleShape","id":0,"x":535.5139501929847,"y":161.7905060127672,"data":{"libraryName":"","ruleName":"tacos","arguments":[]}},{"type":"RuleShape","id":41,"x":579.2863974428312,"y":255.9258692304067,"data":{"libraryName":"","ruleName":"add_topping","arguments":["Tacos"]}},{"type":"RuleShape","id":54,"x":687.6532174185526,"y":264.6155569533294,"data":{"libraryName":"","ruleName":"maplist","arguments":["print_taco","Tacos"]}},{"type":"RuleShape","id":55,"x":893.7619818627695,"y":363.16871328527685,"data":{"libraryName":"","ruleName":"write","arguments":["Taco"]}},{"type":"RuleShape","id":53,"x":951.5671985574693,"y":257.9821714309868,"data":{"libraryName":"","ruleName":"print_taco","arguments":["Taco"]}},{"type":"CommentShape","id":52,"x":955.3577045702363,"y":172.69578614372472,"data":{"value":"Just to print things nicely to\nthe console"}},{"type":"RuleShape","id":45,"x":1004.1604694846136,"y":363.6425265368734,"data":{"libraryName":"","ruleName":"write","arguments":["'\\n'"]}}],"connections":[{"type":"StraightConnection","role":"true","target":{"shape":15,"role":"in"},"source":{"shape":0,"role":"out"},"id":19},{"type":"StraightConnection","role":"true","target":{"shape":16,"role":"in"},"source":{"shape":15,"role":"out"},"id":26},{"type":"StraightConnection","role":"true","target":{"shape":41,"role":"in"},"source":{"shape":0,"role":"out"},"id":34},{"type":"StraightConnection","role":"true","target":{"shape":48,"role":"in"},"source":{"shape":47,"role":"out"},"id":40},{"type":"StraightConnection","role":"true","target":{"shape":50,"role":"in"},"source":{"shape":49,"role":"out"},"id":41},{"type":"StraightConnection","role":"true","target":{"shape":51,"role":"in"},"source":{"shape":49,"role":"out"},"id":42},{"type":"StraightConnection","role":"true","target":{"shape":21,"role":"in"},"source":{"shape":48,"role":"out"},"id":43},{"type":"StraightConnection","role":"true","target":{"shape":47,"role":"in"},"source":{"shape":0,"role":"out"},"id":44},{"type":"StraightConnection","role":"true","target":{"shape":54,"role":"in"},"source":{"shape":0,"role":"out"},"id":45},{"type":"StraightConnection","role":"true","target":{"shape":55,"role":"in"},"source":{"shape":53,"role":"out"},"id":46},{"type":"StraightConnection","role":"true","target":{"shape":45,"role":"in"},"source":{"shape":53,"role":"out"},"id":47}],"latestViewport":{"x":-149.15849002997925,"y":-88.24035056221983},"latestZooom":1.0552680793875995,"latestZoom":1.0552680793875995},{"id":1,"name":"Taco plus shell","shapes":[{"type":"FindallShape","id":8,"x":363.80606977566,"y":5.812147424505355,"data":{"capturePattern":"hard_found","captureList":"HardTacos"}},{"type":"RuleShape","id":9,"x":363.80606977566,"y":99.81214742450535,"data":{"libraryName":"lists","ruleName":"member","arguments":["t(hard,_,_,_,_)","Tacos"]}},{"type":"CommentShape","id":10,"x":418.03473928881573,"y":-177.2530894888571,"data":{"value":"Check that there are only 3 shells of each type"}},{"type":"RuleShape","id":11,"x":419.80606977566,"y":-84.18785257549465,"data":{"libraryName":"","ruleName":"shell_rule","arguments":["Tacos"]}},{"type":"RuleShape","id":12,"x":485.80606977566,"y":9.812147424505355,"data":{"libraryName":"lists","ruleName":"length","arguments":["HardTacos","3"]}}],"connections":[{"type":"StraightConnection","role":"true","target":{"shape":8,"role":"in"},"source":{"shape":11,"role":"out"},"id":17},{"type":"StraightConnection","role":"true","target":{"shape":9,"role":"in"},"source":{"shape":8,"role":"out"},"id":18},{"type":"StraightConnection","role":"true","target":{"shape":12,"role":"in"},"source":{"shape":11,"role":"out"},"id":19}],"latestViewport":{"x":319.00000000000006,"y":250.00000000000003},"latestZooom":0.8754664269246581},{"id":2,"name":"Meat and meat-rules","shapes":[{"type":"CommentShape","id":13,"x":263.5109293723568,"y":-21.582876567966707,"data":{"value":"Add some kind of meat"}},{"type":"TableShape","id":10,"x":295.5952160637571,"y":163.2977584122831,"data":{"tableId":"1","name":"meat","values":["M"]}},{"type":"RuleShape","id":16,"x":352.2397746025654,"y":70.07025581716164,"data":{"libraryName":"","ruleName":"add_meat","arguments":["This"]}},{"type":"RuleShape","id":0,"x":417.81117431414486,"y":625.4849399163886,"data":{"libraryName":"lists","ruleName":"member","arguments":["t(_,beef,_,_,_)","Tacos"]}},{"type":"FindallShape","id":1,"x":417.81117431414486,"y":531.4849399163886,"data":{"capturePattern":"beef","captureList":"BeefTacos"}},{"type":"FormulaShape","id":18,"x":421.86537780651634,"y":155.0370936253736,"data":{"rows":[{"left":"This","op":"=","right":"t(_,M,_,_,_)"}]}},{"type":"CommentShape","id":2,"x":466.1927046548603,"y":364.319935477506,"data":{"value":"There should be 3 beef tacos"}},{"type":"RuleShape","id":3,"x":468.97112585801284,"y":423.1429982367867,"data":{"libraryName":"","ruleName":"three_beef","arguments":["Tacos"]}},{"type":"RuleShape","id":4,"x":514.3641073221092,"y":532.4312918773444,"data":{"libraryName":"lists","ruleName":"length","arguments":["BeefTacos","3"]}},{"type":"RuleShape","id":7,"x":634.2442363289875,"y":175.0716100597723,"data":{"libraryName":"","ruleName":"three_beef","arguments":["Tacos"]}},{"type":"FindallShape","id":5,"x":712.9630625336002,"y":532.5422596687197,"data":{"capturePattern":"hard_beef","captureList":"HardBeefTacos"}},{"type":"RuleShape","id":6,"x":712.9630625336002,"y":625.5243769890383,"data":{"libraryName":"lists","ruleName":"member","arguments":["t(hard,beef,_,_,_)","Tacos"]}},{"type":"RuleShape","id":14,"x":746.1043952166862,"y":172.0208784537441,"data":{"libraryName":"","ruleName":"hard_beef_limit","arguments":["Tacos"]}},{"type":"RuleShape","id":15,"x":746.9982133464134,"y":62.02578993460588,"data":{"libraryName":"","ruleName":"meat_rules","arguments":["Tacos"]}},{"type":"RuleShape","id":8,"x":763.8751811074002,"y":429.2444614488433,"data":{"libraryName":"","ruleName":"hard_beef_limit","arguments":["Tacos"]}},{"type":"RuleShape","id":11,"x":824.7696535717051,"y":530.4369078793086,"data":{"libraryName":"lists","ruleName":"length","arguments":["HardBeefTacos","HardBeef"]}},{"type":"FormulaShape","id":12,"x":825.1969855993915,"y":606.3406982343001,"data":{"rows":[{"left":"HardBeef","op":"<","right":"3"}]}},{"type":"RuleShape","id":20,"x":862.0321962457558,"y":172.0208784537441,"data":{"libraryName":"","ruleName":"soft_beef_limit","arguments":["Tacos"]}},{"type":"CommentShape","id":17,"x":927.8905653473705,"y":344.56211069066165,"data":{"value":"the same meat should not always be with\nthe same kind of shell.\nIf tacos with hard+beef is less than 3, and \nsoft+beef is less than 3 this should be taken care of"}},{"type":"FindallShape","id":21,"x":1024.7227677693872,"y":533.5220444121449,"data":{"capturePattern":"soft_beef","captureList":"SoftBeefTacos"}},{"type":"RuleShape","id":22,"x":1024.7227677693872,"y":626.5041617324634,"data":{"libraryName":"lists","ruleName":"member","arguments":["t(soft,beef,_,_,_)","Tacos"]}},{"type":"RuleShape","id":23,"x":1075.049804922271,"y":434.32901412555674,"data":{"libraryName":"","ruleName":"soft_beef_limit","arguments":["Tacos"]}},{"type":"RuleShape","id":24,"x":1121.2757007773516,"y":533.4505136934192,"data":{"libraryName":"lists","ruleName":"length","arguments":["SoftBeefTacos","SoftBeef"]}},{"type":"FormulaShape","id":25,"x":1121.7030328050378,"y":609.3543040484108,"data":{"rows":[{"left":"SoftBeef","op":"<","right":"3"}]}}],"connections":[{"type":"StraightConnection","role":"true","target":{"shape":0,"role":"in"},"source":{"shape":1,"role":"out"},"id":28},{"type":"StraightConnection","role":"true","target":{"shape":6,"role":"in"},"source":{"shape":5,"role":"out"},"id":31},{"type":"StraightConnection","role":"true","target":{"shape":12,"role":"in"},"source":{"shape":11,"role":"out"},"id":34},{"type":"StraightConnection","role":"true","target":{"shape":10,"role":"in"},"source":{"shape":16,"role":"out"},"id":36},{"type":"StraightConnection","role":"true","target":{"shape":18,"role":"in"},"source":{"shape":16,"role":"out"},"id":37},{"type":"StraightConnection","role":"true","target":{"shape":22,"role":"in"},"source":{"shape":21,"role":"out"},"id":47},{"type":"StraightConnection","role":"true","target":{"shape":25,"role":"in"},"source":{"shape":24,"role":"out"},"id":48},{"type":"StraightConnection","role":"true","target":{"shape":1,"role":"in"},"source":{"shape":3,"role":"out"},"id":49},{"type":"StraightConnection","role":"true","target":{"shape":4,"role":"in"},"source":{"shape":3,"role":"out"},"id":50},{"type":"StraightConnection","role":"true","target":{"shape":7,"role":"in"},"source":{"shape":15,"role":"out"},"id":51},{"type":"StraightConnection","role":"true","target":{"shape":5,"role":"in"},"source":{"shape":8,"role":"out"},"id":52},{"type":"StraightConnection","role":"true","target":{"shape":11,"role":"in"},"source":{"shape":8,"role":"out"},"id":53},{"type":"StraightConnection","role":"true","target":{"shape":14,"role":"in"},"source":{"shape":15,"role":"out"},"id":54},{"type":"StraightConnection","role":"true","target":{"shape":21,"role":"in"},"source":{"shape":23,"role":"out"},"id":55},{"type":"StraightConnection","role":"true","target":{"shape":24,"role":"in"},"source":{"shape":23,"role":"out"},"id":56},{"type":"StraightConnection","role":"true","target":{"shape":20,"role":"in"},"source":{"shape":15,"role":"out"},"id":57}],"latestViewport":{"x":170.7356343255622,"y":7.756380867599276},"latestZooom":0.7357600799951013,"latestZoom":0.7357600799951013},{"id":3,"name":"Toppings and uniqueness","shapes":[{"type":"FormulaShape","id":0,"x":560.5842696194724,"y":280.300259071616,"data":{"rows":[{"left":"This","op":"=","right":"t(_,_,_,C,T)"}]}},{"type":"RuleShape","id":1,"x":560.746481909349,"y":213.1605496780835,"data":{"libraryName":"","ruleName":"add_topping","arguments":["Rest"]}},{"type":"RuleShape","id":2,"x":561.5841200743729,"y":114.97684358258414,"data":{"libraryName":"","ruleName":"add_topping","arguments":["[]"]}},{"type":"CommentShape","id":15,"x":673.9344599988277,"y":32.70146113918363,"data":{"value":"This rule is recursive in the classic Prolog fashion, \nso we can check each topped taco for uniqueness"}},{"type":"TableShape","id":6,"x":682.0271521565618,"y":281.3976569037088,"data":{"tableId":"2","name":"toppings","values":["T"]}},{"type":"RuleShape","id":7,"x":682.3206101956285,"y":116.95645492793437,"data":{"libraryName":"","ruleName":"add_topping","arguments":["[This|Rest]"]}},{"type":"TableShape","id":8,"x":682.6774817189802,"y":216.29125360114438,"data":{"tableId":"3","name":"cream","values":["C"]}},{"type":"RuleShape","id":13,"x":796.0300122808816,"y":223.88728550170833,"data":{"libraryName":"","ruleName":"unlike_all","arguments":["This","Rest"]}},{"type":"RuleShape","id":3,"x":1077.8723347891278,"y":123.79585664401526,"data":{"libraryName":"","ruleName":"unlike_all","arguments":["_","[]"]}},{"type":"RuleShape","id":4,"x":1097.2121057030745,"y":299.3806188890607,"data":{"libraryName":"","ruleName":"fail","arguments":[]}},{"type":"CommentShape","id":5,"x":1137.8891783822519,"y":36.64944599082963,"data":{"value":"For each taco we've assigned toppings to, make sure it has\na unique filling compared to the other ones \nalready filled"}},{"type":"FormulaShape","id":9,"x":1172.5354239995,"y":192.5029375225111,"data":{"rows":[{"left":"Unique","op":"=","right":"t(_,_,_,C,T)"}]}},{"type":"RuleShape","id":10,"x":1172.5354239995002,"y":121.76009128465233,"data":{"libraryName":"","ruleName":"unlike_all","arguments":["Unique","[Curr|Rest]"]}},{"type":"FormulaShape","id":11,"x":1173.5533066791813,"y":241.87024748706034,"data":{"rows":[{"left":"Curr","op":"=","right":"t(_,_,_,C,T)"}]}},{"type":"RuleShape","id":12,"x":1236.6620328194294,"y":320.24721382253,"data":{"libraryName":"","ruleName":"unlike_all","arguments":["Unique","Rest"]}},{"type":"CommentShape","id":14,"x":1387.679394427966,"y":216.114004050257,"data":{"value":"If these C and T variables can match\nthe taco does not have a unique set of toppings"}}],"connections":[{"type":"StraightConnection","role":"true","target":{"shape":8,"role":"in"},"source":{"shape":7,"role":"out"},"id":24},{"type":"StraightConnection","role":"true","target":{"shape":6,"role":"in"},"source":{"shape":8,"role":"out"},"id":39},{"type":"StraightConnection","role":"true","target":{"shape":1,"role":"in"},"source":{"shape":7,"role":"out"},"id":40},{"type":"StraightConnection","role":"true","target":{"shape":0,"role":"in"},"source":{"shape":1,"role":"out"},"id":41},{"type":"StraightConnection","role":"true","target":{"shape":13,"role":"in"},"source":{"shape":7,"role":"out"},"id":42},{"type":"StraightConnection","role":"true","target":{"shape":9,"role":"in"},"source":{"shape":10,"role":"out"},"id":43},{"type":"StraightConnection","role":"true","target":{"shape":11,"role":"in"},"source":{"shape":9,"role":"out"},"id":44},{"type":"StraightConnection","role":"true","target":{"shape":4,"role":"in"},"source":{"shape":11,"role":"out"},"id":45},{"type":"StraightConnection","role":"false","target":{"shape":12,"role":"in"},"source":{"shape":11,"role":"out"},"id":46}],"latestViewport":{"x":-223.96901246967158,"y":60.4801657170377},"latestZooom":0.9441959163240614,"latestZoom":0.9441959163240614}]}